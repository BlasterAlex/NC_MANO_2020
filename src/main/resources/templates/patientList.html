<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Patients</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script type="text/javascript" th:src="@{js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{js/patientList.js}"></script>
    <link rel="stylesheet" th:href="@{css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{css/patientList.css}"/>
</head>

<body ng-app="PatientManagement" ng-controller="PatientController">

<h3>Patients</h3>

<form ng-submit="submitPatient()" style="display: none" id="patientForm">
    <table border="0">
        <tr>
            <td>Id</td>
            <td>{{patientForm.id}}</td>
        </tr>
        <tr>
            <td>Surname</td>
            <td><input type="text" ng-model="patientForm.surname" name="surname"/></td>
        </tr>
        <tr>
            <td>Name</td>
            <td><input type="text" ng-model="patientForm.name" name="name"/></td>
        </tr>
        <tr>
            <td>Middle name</td>
            <td><input type="text" ng-model="patientForm.middleName" name="middleName"/></td>
        </tr>
        <tr>
            <td>Contact with patients</td>
            <td><input type="checkbox" ng-model="patientForm.contactWithPatients" name="contactWithPatients"/></td>
        </tr>
        <tr>
            <td>Is having trip abroad</td>
            <td><input type="checkbox" ng-model="patientForm.isHavingTripAbroad" name="isHavingTripAbroad"/></td>
        </tr>
        <tr>
            <td colspan="2" style="padding: 0 0 10px 0;">
                <input type="submit" value="Submit" class="btn btn-primary"/>
            </td>
        </tr>
    </table>
</form>

<button ng-click="createPatient()" type="button" class="btn btn-success create-button">Create patient</button>

<table border="1">
    <thead>
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Surname</th>
        <th scope="col">Name</th>
        <th scope="col">Middle name</th>
        <th scope="col">Contact with patients</th>
        <th scope="col">Is having trip abroad</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
    </tr>
    </thead>
    <!-- $scope.patients -->
    <tbody>
    <tr ng-repeat="patient in patients">
        <th scope="row"> {{ patient.id }}</th>
        <td> {{ patient.surname }}</td>
        <td> {{ patient.name }}</td>
        <td> {{ patient.middleName }}</td>
        <td> {{ patient.contactWithPatients }}</td>
        <td> {{ patient.isHavingTripAbroad }}</td>
        <td>
            <button ng-click="editPatient(patient)" type="button" class="btn btn-primary edit-button">Edit</button>
        </td>
        <td>
            <button ng-click="deletePatient(patient)" type="button" class="btn btn-danger delete-buttonr">Delete
            </button>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
